############################################################################
### CONTENT NEGOTIATION FOR AGRIXEL VOCABULARY
############################################################################

Options -MultiViews

# MIME types for ontology formats
AddType application/rdf+xml .rdf
AddType application/rdf+xml .owl
AddType text/turtle .ttl
AddType application/n-triples .nt
AddType application/ld+json .jsonld

RewriteEngine On
RewriteBase /agrixel

# Serve JSON-LD if requested
RewriteCond %{HTTP_ACCEPT} application/ld\+json
RewriteRule ^def/?$ https://agrixels.github.io/agrixel/ontology/agrixel_draft.jsonld [R=303,L]

# Serve Turtle if requested (Protege supports this)
RewriteCond %{HTTP_ACCEPT} text/turtle [OR]
RewriteCond %{HTTP_ACCEPT} application/x-turtle [OR]
RewriteCond %{HTTP_ACCEPT} application/n-triples
RewriteRule ^def/?$ https://agrixels.github.io/agrixel/ontology/agrixel_draft.ttl [R=303,L]

# Serve RDF/XML as fallback
RewriteCond %{HTTP_ACCEPT} application/rdf\+xml
RewriteRule ^def/?$ https://agrixels.github.io/agrixel/ontology/agrixel_draft.owl [R=303,L]

# Default for browsers or unknown Accept header â†’ HTML documentation
RewriteRule ^def/?$ https://agrixels.github.io/agrixel/docs/widoco/agrixel/doc/index-en.html [R=303,L]
